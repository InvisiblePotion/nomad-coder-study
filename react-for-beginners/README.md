# ReactJS로 영화 웹 서비스 만들기
### https://nomadcoders.co/react-for-beginners

2023-08-11 ~ ongoing

## 메모
### JSX 문법
* html 태그의 class 속성이나 for 속성과 같이 js에서 이미 예약어로 사용되는 속성의 경우 정해진 다른 이름을 사용해야 한다.
    + ex) class -> className / for -> htmlFor / tabIndex -> tabIndex
* `<br>`과 같은 닫는 태그가 필요 없는 void 태그를 JSX에서는 반드시 `<br />`과 같이 사용해주어야 한다.
* JSX 요소에서 js 코드를 사용하기 위해 쓰는 `{}`안에서 html 요소를 반환할 땐 텍스트가 아닌 그냥 html 태그를 작성하면 된다.
---
### 컴포넌트에 대해
* 컴포넌트가 되는 함수의 이름은 첫글자가 대문자인 파스칼 케이스로 작성되어야만 JSX 문법에서 컴포넌트로 인식된다
    + 이는 일반 HTML 요소와의 구분을 위한 것이다.
* 이전에 사용되던 클래스형 컴포넌트의 경우 컴포넌트가 생성 되더라도 직접 `render()` 함수를 실행시켜야만 실제 DOM에 렌더링되지만 현재 권장되는 함수형 컴포넌트는 함수 종료 시 함수의 반환 값이 되는 JSX나 React 요소가 자동으로 렌더링된다.
    + 때문에 현재는 컴포넌트의 첫 생성과 첫 렌더링을 따로 생각하지 않으며 이를 합쳐 **마운트**라고 부른다.
---
### useState()에 대해
* `useState()` 함수는 상태 변수를 생성하는데 사용되며 컴포넌트의 최초 실행시에만 실행된다.
* `useState()` 함수는 2개의 요소가 담긴 배열을 반환한다. 반환되는 배열에 담긴 요소는 다음과 같다.
    + 첫 번째 요소는 상태 변수를 담고 있다. `useState()`에 인자를 넘기면 해당 값으로 초기화된다.
    + 두 번째 요소는 상태 변수를 업데이트 해주는 Setter 함수를 담고 있다. 일반적으로 `setState()` 함수라고 불린다.
* `setState()` 함수가 실행되어 상태 변수가 업데이트 되면 해당 상태 변수를 담고 있는 컴포넌트가 다시 렌더링 된다.
* `setState()` 함수를 사용할 때, 자신의 상태 변수를 인자로 넘기는 경우에는 `(prevState) => newState` 와 같이 함수를 사용하여 간접적으로 변경하는 것이 더 안전하다. 그 이유는 아래와 같다.
    + 인자로 상태 값을 직접 넘기는 경우:
        - React의 상태 업데이트 매커니즘을 우회하여 상태 값을 바로 변경하기에 React가 상태 변화를 정확하게 추적하기 어려워지며 이로 인해 불필요한 렌더링이 발생하는 등의 문제점이 발생한다.
        - 상태 업데이트는 비동기로 처리될 수 있기 때문에 동시에 여러 개의 `setState()` 함수가 호출 된다면 호출 순서가 꼬일 수 있으며 예상치 못한 상태 값의 변화가 일어날 수 있다.
    + 인자로 함수를 넘기는 경우:
        - 업데이트 로직을 함수로 감싸서 전달하는 방식으로, React가 상태 업데이트를 제대로 추적하게 된다.
        - 함수에 사용되는 상태 변수로 인해 클로저가 생성되어 `setState()` 호출 시점의 상태 변수가 클로저 변수로써 저장되므로 상태가 비동기로 업데이트 되더라도 정확한 이전 상태 값으로 업데이트를 수행 할 수 있게 된다.
---
### useEffect()에 대해
* `useEffect()` 함수는 컴포넌트 재생성 시에 불필요한 코드의 계산을 막기 위해 사용된다.
* `useEffect()` 함수는 2개의 파라미터를 갖는다. 각 파라미터의 역할은 다음과 같다.
    + 첫 번째 파라미터는 실행 가능한 함수를 받는다. 컴포넌트 마운트 시에 한번 실행된다.
    + 두 번째 파라미터는 배열을 받으며 이 배열에는 상태 변수가 들어갈 수 있다. 배열 안의 상태 변수 중 하나가 업데이트 된다면 컴포넌트의 업데이트 시에 첫 번째 파라미터로 받은 함수를 실행하며 하나도 업데이트 되지 않은 경우엔 컴포넌트가 업데이트 되더라도 해당 함수는 실행되지 않는다.
        - 예를 들어 배열에 2개의 상태 변수가 제공되고 동시에 두 상태가 모두 업데이트 된다면 함수는 각 상태의 업데이트로 인해 총 두번 실행된다.
* `useEffect()` 함수의 두번째 파라미터로 빈 배열을 넘기는 것으로 컴포넌트의 최초 마운트 시에만 실행되는 함수를 만들 수도 있다.
* `useEffect()` 함수의 반환 값에 함수를 제공한다면 반환되는 함수는 컴포넌트의 언마운트 시에 실행되게 된다.
---
### nodeJS를 이용한 React App 개발 환경 구축
* 이 강의에서는 `npm`이 아닌 `npx`로 React App의 프로젝트 초기화를 진행하였다. 왜인진 몰?루
    + `npm`의 경우 프로젝트의 빌드를 위해 패키지들의 의존성을 관리하는 빌드툴이지만 `npx`는 패키지의 실행을 위해 필요한 패키지를 임시로 다운로드하고 실행하는 테스트 하는 목적이라고 한다.
* 터미널에 `npx create-react-app {프로젝트 폴더 이름}` 을 입력하여 React App의 초기 개발 환경을 자동으로 구축할 수 있다.
    + 이 강의에서는 `react-app`을 React App 프로젝트의 루트 폴더로 하였다.
* 구축된 React App의 루트 폴더로 이동해 `npm start` 커맨드를 사용하는 것으로 로컬 서버를 구동시키고 앱을 브라우저로 실행 시킬 수 있다.
---
### CRA(Create React App) 패키지를 활용한 React App 개발
* CSS 모듈
    + 먼저 `.module.css` 확장자의 `css` 파일을 생성한 뒤 클래스 선택자를 사용하여 CSS를 작성한다.
    + 작성한 CSS 모듈을 `import {모듈명 지정} from {CSS 모듈 경로}` 와 같이 `js` 파일에 import 한다.
    + JSX 요소의 태그에 `className`으로 `{모듈명}.{클래스명}` 과 같이 변수로써 추가하면 원하는 CSS 클래스를 추가 할 수 있다!
        - 이러한 CSS 모듈의 사용법은 CSS의 모듈화 및 캡슐화가 가능하게 하고 실제 적용시에는 고유한 클래스 이름을 생성해주기 때문에 2개 이상의 CSS 모듈 파일에 같은 이름의 클래스가 존재하더라도 절대 서로 겹치지 않는다!